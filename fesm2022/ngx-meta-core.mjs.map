{"version":3,"file":"ngx-meta-core.mjs","sources":["../../../../projects/ngx-meta/core/src/lib/models/page-title-positioning.ts","../../../../projects/ngx-meta/core/src/lib/util.ts","../../../../projects/ngx-meta/core/src/lib/meta.loader.ts","../../../../projects/ngx-meta/core/src/lib/meta.service.ts","../../../../projects/ngx-meta/core/src/lib/meta.guard.ts","../../../../projects/ngx-meta/core/src/lib/meta.providers.ts","../../../../projects/ngx-meta/core/src/public-api.ts","../../../../projects/ngx-meta/core/src/ngx-meta-core.ts"],"sourcesContent":["export enum PageTitlePositioning {\n  /**\n   * append page title after application name\n   */\n  AppendPageTitle = 0,\n  /**\n   * prepend page title before application name\n   */\n  PrependPageTitle = 10,\n}\n","import { Observable } from 'rxjs';\n\nexport const isPromise = (obj: any): obj is Promise<any> => !!obj && typeof obj.then === 'function';\n\nexport const isObservable = (obj: any | Observable<any>): obj is Observable<any> => !!obj && typeof obj.subscribe === 'function';\n","import { MetaSettings } from './models/meta-settings';\nimport { PageTitlePositioning } from './models/page-title-positioning';\n\nexport abstract class MetaLoader {\n  abstract get settings(): MetaSettings;\n}\n\nexport class MetaStaticLoader implements MetaLoader {\n  get settings(): MetaSettings {\n    return this.providedSettings;\n  }\n\n  constructor(\n    private readonly providedSettings: MetaSettings = {\n      pageTitlePositioning: PageTitlePositioning.PrependPageTitle,\n      defaults: {},\n    },\n  ) {}\n}\n","import { Injectable } from '@angular/core';\nimport { Meta, Title } from '@angular/platform-browser';\nimport { Observable, from as observableFrom, of as observableOf } from 'rxjs';\nimport { MetaLoader } from './meta.loader';\nimport { MetaRouteSettings } from './models/meta-route-settings';\nimport { MetaSettings } from './models/meta-settings';\nimport { PageTitlePositioning } from './models/page-title-positioning';\nimport { isObservable, isPromise } from './util';\n\n@Injectable()\nexport class MetaService {\n  protected readonly settings: MetaSettings;\n  private readonly isMetaTagSet: any;\n\n  constructor(\n    readonly loader: MetaLoader,\n    private readonly title: Title,\n    private readonly meta: Meta,\n  ) {\n    this.settings = loader.settings;\n    this.isMetaTagSet = {};\n  }\n\n  setTitle(title?: string, override = false): void {\n    const title$ = title ? this.callback(title) : observableOf('');\n\n    title$.subscribe(res => {\n      let fullTitle = '';\n\n      if (!res) {\n        const defaultTitle$ = this.settings.defaults?.title ? this.callback(this.settings.defaults.title) : observableOf('');\n\n        defaultTitle$.subscribe(defaultTitle => {\n          if (!override && this.settings.pageTitleSeparator && this.settings.applicationName) {\n            this.callback(this.settings.applicationName).subscribe(applicationName => {\n              fullTitle = applicationName ? this.getTitleWithPositioning(defaultTitle, applicationName) : defaultTitle;\n              this.updateTitle(fullTitle);\n            });\n          } else {\n            this.updateTitle(defaultTitle);\n          }\n        });\n      } else if (!override && this.settings.pageTitleSeparator && this.settings.applicationName) {\n        this.callback(this.settings.applicationName).subscribe(applicationName => {\n          fullTitle = applicationName ? this.getTitleWithPositioning(res, applicationName) : res;\n          this.updateTitle(fullTitle);\n        });\n      } else {\n        this.updateTitle(res);\n      }\n    });\n  }\n\n  setTag(key: string, value: string): void {\n    if (key === 'title') {\n      throw new Error(\n        `Attempt to set ${key} through \"setTag\": \"title\" is a reserved tag name. ` + 'Please use `MetaService.setTitle` instead.',\n      );\n    }\n\n    const cur = value || this.settings.defaults?.[key] || '';\n\n    const value$ = key !== 'og:locale' && key !== 'og:locale:alternate' ? this.callback(cur) : observableOf(cur);\n\n    value$.subscribe(res => {\n      this.updateTag(key, res);\n    });\n  }\n\n  update(currentUrl: string, metaSettings?: MetaRouteSettings): void {\n    if (!metaSettings) {\n      const fallbackTitle = this.settings.defaults?.title || this.settings.applicationName || '';\n\n      this.setTitle(fallbackTitle, true);\n    } else {\n      if (metaSettings.disabled) {\n        this.update(currentUrl);\n\n        return;\n      }\n\n      this.setTitle(metaSettings.title, metaSettings.override);\n\n      Object.keys(metaSettings).forEach(key => {\n        let value = metaSettings[key];\n\n        if (key === 'title' || key === 'override') {\n          return;\n        } else if (key === 'og:locale') {\n          value = value.replace(/-/g, '_');\n        } else if (key === 'og:locale:alternate') {\n          const currentLocale = metaSettings['og:locale'];\n          this.updateLocales(currentLocale, metaSettings[key]);\n\n          return;\n        }\n\n        this.setTag(key, value);\n      });\n    }\n\n    if (this.settings.defaults) {\n      Object.entries(this.settings.defaults).forEach(([key, value]) => {\n        if ((metaSettings && (key in this.isMetaTagSet || key in metaSettings)) || key === 'title' || key === 'override' || !value) {\n          return;\n        } else if (key === 'og:locale') {\n          value = value.replace(/-/g, '_');\n        } else if (key === 'og:locale:alternate') {\n          const currentLocale = metaSettings ? metaSettings['og:locale'] : undefined;\n          this.updateLocales(currentLocale, value);\n\n          return;\n        }\n\n        this.setTag(key, value);\n      });\n    }\n\n    const baseUrl = this.settings.applicationUrl || '/';\n    const url = `${baseUrl}${currentUrl}`.replace(/(https?:\\/\\/)|(\\/)+/g, '$1$2').replace(/\\/$/g, '');\n\n    this.setTag('og:url', url || '/');\n  }\n\n  removeTag(key: string): void {\n    this.meta.removeTag(key);\n  }\n\n  private callback(value: string): Observable<string> {\n    if (this.settings.callback) {\n      const value$ = this.settings.callback(value);\n\n      if (!isObservable(value$)) {\n        return isPromise(value$) ? observableFrom(value$) : observableOf(value$);\n      }\n\n      return value$;\n    }\n\n    return observableOf(value);\n  }\n\n  private getTitleWithPositioning(title: string, applicationName: string): string {\n    switch (this.settings.pageTitlePositioning) {\n      case PageTitlePositioning.AppendPageTitle:\n        return applicationName + String(this.settings.pageTitleSeparator) + title;\n      case PageTitlePositioning.PrependPageTitle:\n        return title + String(this.settings.pageTitleSeparator) + applicationName;\n      default:\n        return title;\n    }\n  }\n\n  private updateTitle(title: string): void {\n    this.title.setTitle(title);\n    this.meta.updateTag({\n      property: 'og:title',\n      content: title,\n    });\n  }\n\n  private updateLocales(currentLocale?: string, availableLocales?: string): void {\n    const cur = currentLocale || this.settings.defaults?.['og:locale'] || '';\n\n    if (cur && this.settings.defaults) {\n      this.settings.defaults['og:locale'] = cur.replace(/_/g, '-');\n    }\n\n    // TODO: set HTML lang attribute - https://github.com/ngx-meta/core/issues/32\n    // const html = this.document.querySelector('html');\n    // html.setAttribute('lang', cur);\n\n    const elements = this.meta.getTags('property=\"og:locale:alternate\"');\n\n    elements.forEach((element: any) => {\n      this.meta.removeTagElement(element);\n    });\n\n    if (cur && availableLocales) {\n      availableLocales.split(',').forEach((locale: string) => {\n        if (cur.replace(/-/g, '_') !== locale.replace(/-/g, '_')) {\n          this.meta.addTag({\n            property: 'og:locale:alternate',\n            content: locale.replace(/-/g, '_'),\n          });\n        }\n      });\n    }\n  }\n\n  private updateTag(key: string, value: string): void {\n    if (key.lastIndexOf('og:', 0) === 0) {\n      this.meta.updateTag({\n        property: key,\n        content: key === 'og:locale' ? value.replace(/-/g, '_') : value,\n      });\n    } else {\n      this.meta.updateTag({\n        name: key,\n        content: value,\n      });\n    }\n\n    this.isMetaTagSet[key] = true;\n\n    if (key === 'description') {\n      this.meta.updateTag({\n        property: 'og:description',\n        content: value,\n      });\n    } else if (key === 'author') {\n      this.meta.updateTag({\n        property: 'og:author',\n        content: value,\n      });\n    } else if (key === 'publisher') {\n      this.meta.updateTag({\n        property: 'og:publisher',\n        content: value,\n      });\n    } else if (key === 'og:locale') {\n      const availableLocales = this.settings.defaults?.['og:locale:alternate'] ?? '';\n\n      this.updateLocales(value, availableLocales);\n      this.isMetaTagSet['og:locale:alternate'] = true;\n    } else if (key === 'og:locale:alternate') {\n      const currentLocale = this.meta.getTag('property=\"og:locale\"')?.content ?? '';\n\n      this.updateLocales(currentLocale, value);\n      this.isMetaTagSet['og:locale'] = true;\n    }\n  }\n}\n","import { inject } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivateChildFn, CanActivateFn, RouterStateSnapshot } from '@angular/router';\nimport { MetaService } from './meta.service';\nimport { MetaRouteSettings } from './models/meta-route-settings';\n\nexport function metaGuard(settings?: MetaRouteSettings): CanActivateFn | CanActivateChildFn {\n  return (route: ActivatedRouteSnapshot, state: RouterStateSnapshot) => {\n    const metaSettings = settings ?? ((route.hasOwnProperty('data') ? route.data['meta'] : undefined) as MetaRouteSettings);\n\n    inject(MetaService).update(state.url, metaSettings);\n    return true;\n  };\n}\n","import { EnvironmentProviders, makeEnvironmentProviders, Provider } from '@angular/core';\nimport { MetaLoader, MetaStaticLoader } from './meta.loader';\nimport { MetaService } from './meta.service';\n\nexport const metaFactory = () => new MetaStaticLoader();\n\nexport function provideEnvironmentMeta(\n  configuredProvider: Provider = {\n    provide: MetaLoader,\n    useFactory: metaFactory,\n  },\n): EnvironmentProviders {\n  return makeEnvironmentProviders([configuredProvider, MetaService]);\n}\n","/*\n * Public API Surface of core\n */\n\nexport * from './lib/meta.guard';\nexport * from './lib/meta.loader';\nexport * from './lib/meta.providers';\nexport * from './lib/meta.service';\nexport * from './lib/models/meta-route-settings';\nexport * from './lib/models/meta-settings';\nexport * from './lib/models/page-title-positioning';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["observableOf","observableFrom","i1.MetaLoader"],"mappings":"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"}